\hypertarget{_protocol_receiver_8h_source}{}\doxysection{Protocol\+Receiver.\+h}
\label{_protocol_receiver_8h_source}\index{lib/protocol\_parser/ProtocolReceiver.h@{lib/protocol\_parser/ProtocolReceiver.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{2 \textcolor{preprocessor}{\#ifndef \_PROTOCOL\_RECEIVER}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#define \_PROTOCOL\_RECEIVER}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}IPcCommunications.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}ProtocolGeneral.h"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}IProtocolTransmission.h"{}}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}../event\_handler/ICanProcesEvents.h"{}}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{class }\mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_i_can_process_events}{ICanProcessEvents}}, \textcolor{keyword}{private} \mbox{\hyperlink{class_protocol_general}{ProtocolGeneral}}  \{}
\DoxyCodeLine{12 }
\DoxyCodeLine{13     \textcolor{keyword}{public}:}
\DoxyCodeLine{14 }
\DoxyCodeLine{15         \mbox{\hyperlink{class_protocol_receiver_a0a47d7343e69cc67d75147494695bc85}{ProtocolReceiver}}();}
\DoxyCodeLine{16         \mbox{\hyperlink{class_protocol_receiver_a0a47d7343e69cc67d75147494695bc85}{ProtocolReceiver}}(\mbox{\hyperlink{class_i_pc_communications}{IPcCommunications}} * pci, \mbox{\hyperlink{class_i_protocol_transmission}{IProtocolTransmission}} * pti);}
\DoxyCodeLine{17 }
\DoxyCodeLine{18         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_protocol_receiver_a0faff55ee749eaf8d9dffa16d26d0915}{ProcessEvent}}(NEvent::eEvent event) \textcolor{keyword}{override};}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{        \#ifdef PIO\_UNIT\_TESTING}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22         \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \_RX\_STATES}
\DoxyCodeLine{23         \{}
\DoxyCodeLine{24             WaitForSequence,}
\DoxyCodeLine{25             GetProtocolVersion,}
\DoxyCodeLine{26             GetPayloadLength,}
\DoxyCodeLine{27             GetIdNumber,}
\DoxyCodeLine{28             GetAckId,}
\DoxyCodeLine{29             GetPayloadChecksum,}
\DoxyCodeLine{30             GetHeaderChecksum,}
\DoxyCodeLine{31             GetPayload,}
\DoxyCodeLine{32             InvalidState}
\DoxyCodeLine{33         \}RX\_STATE;}
\DoxyCodeLine{34 }
\DoxyCodeLine{35         RX\_STATE GetCurrentRxState();}
\DoxyCodeLine{36 }
\DoxyCodeLine{37         uint8\_t GetNextExpectedId();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{preprocessor}{        \#endif}}
\DoxyCodeLine{40     \textcolor{keyword}{protected}:}
\DoxyCodeLine{41 }
\DoxyCodeLine{42     \textcolor{keyword}{private}:}
\DoxyCodeLine{43 }
\DoxyCodeLine{44         \mbox{\hyperlink{class_i_pc_communications}{IPcCommunications}} * \_PcComsInterface;}
\DoxyCodeLine{45         \mbox{\hyperlink{class_i_protocol_transmission}{IProtocolTransmission}} * \_ProtocolTransmissionInstance;}
\DoxyCodeLine{46 }
\DoxyCodeLine{47         \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{\_RX\_STATE}}}
\DoxyCodeLine{48         \{}
\DoxyCodeLine{49             \textcolor{comment}{// reception varaibles}}
\DoxyCodeLine{50             \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{\_RX\_STATE}} (*state\_fptr)(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{\_RX\_STATE}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{51             uint8\_t rxIndex;}
\DoxyCodeLine{52             uint8\_t rxMultiByteCounter;}
\DoxyCodeLine{53 }
\DoxyCodeLine{54             \textcolor{comment}{// message values array}}
\DoxyCodeLine{55             uint8\_t message[ProtocolGeneral::\_MAX\_MESSAGE\_LENGTH];}
\DoxyCodeLine{56 }
\DoxyCodeLine{57             uint8\_t nextExpectedID;}
\DoxyCodeLine{58 }
\DoxyCodeLine{59         \}\mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61         \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \_RxState;}
\DoxyCodeLine{62 }
\DoxyCodeLine{63         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a01e102370fb2ed82c68a147b7a3dfd1f}{ResetRxStruct}}(\mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state);}
\DoxyCodeLine{64 }
\DoxyCodeLine{65         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a8122610488cb525b5b33408a4c0287d9}{RxState\_WaitForSyncSequence}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{66         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a8e1b9b683a56f3e87e24872bf7c5a1ce}{RxState\_GetProtocolVersion}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{67         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_acf8eb9108bcf1528b17eec6bf9068a7e}{RxState\_GetPayloadLength}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{68         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_ab599b58913c7a4c9599138b920f3d874}{RxState\_GetIdNumber}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{69         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a9b3b5775cac97714924e229dbee6c938}{RxState\_GetAcknowledgeId}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{70         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a06b0739338a0fb691ba2084857086436}{RxState\_GetPayloadChecksum}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{71         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_acda7a7a8ecb028f47a86606e20e68f07}{RxState\_GetHeaderChecksum}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{72         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_abc474ba439dcc4a299e95d8b17a2a06a}{RxState\_GetPayloadAndProcessMessageContents}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{73 \};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
