\hypertarget{_protocol_receiver_8h_source}{}\doxysection{Protocol\+Receiver.\+h}
\label{_protocol_receiver_8h_source}\index{lib/protocol\_parser/ProtocolReceiver.h@{lib/protocol\_parser/ProtocolReceiver.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{2 \textcolor{preprocessor}{\#ifndef \_PROTOCOL\_RECEIVER}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#define \_PROTOCOL\_RECEIVER}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}IPcCommunications.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}ProtocolGeneral.h"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}IProtocolTransmission.h"{}}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}../data\_flow\_controller/IEEGDataProducer.h"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}../event\_handler/ICanProcesEvents.h"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}../event\_handler/EventHandler.h"{}}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{class }\mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_i_can_process_events}{ICanProcessEvents}}, \textcolor{keyword}{private} \mbox{\hyperlink{class_protocol_general}{ProtocolGeneral}}  \{}
\DoxyCodeLine{14 }
\DoxyCodeLine{15     \textcolor{keyword}{public}:}
\DoxyCodeLine{16 }
\DoxyCodeLine{17         \mbox{\hyperlink{class_protocol_receiver_a0a47d7343e69cc67d75147494695bc85}{ProtocolReceiver}}();}
\DoxyCodeLine{18         \mbox{\hyperlink{class_protocol_receiver_a0a47d7343e69cc67d75147494695bc85}{ProtocolReceiver}}(\mbox{\hyperlink{class_i_pc_communications}{IPcCommunications}} * pci, \mbox{\hyperlink{class_i_eeg_data_producer}{IEegDataProducer}} * edp, \mbox{\hyperlink{class_event_handler}{EventHandler}} * evh, \mbox{\hyperlink{class_i_protocol_transmission}{IProtocolTransmission}} * pti);}
\DoxyCodeLine{19 }
\DoxyCodeLine{20         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_protocol_receiver_a0faff55ee749eaf8d9dffa16d26d0915}{ProcessEvent}}(NEvent::eEvent event) \textcolor{keyword}{override};}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{preprocessor}{        \#ifdef PIO\_UNIT\_TESTING}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24         \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \_RX\_STATES}
\DoxyCodeLine{25         \{}
\DoxyCodeLine{26             WaitForSequence,}
\DoxyCodeLine{27             GetProtocolVersion,}
\DoxyCodeLine{28             GetPayloadLength,}
\DoxyCodeLine{29             GetIdNumber,}
\DoxyCodeLine{30             GetAckId,}
\DoxyCodeLine{31             GetPayloadChecksum,}
\DoxyCodeLine{32             GetHeaderChecksum,}
\DoxyCodeLine{33             GetPayload,}
\DoxyCodeLine{34             InvalidState}
\DoxyCodeLine{35         \}RX\_STATE;}
\DoxyCodeLine{36 }
\DoxyCodeLine{37         RX\_STATE GetCurrentRxState();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39         uint8\_t GetNextExpectedId();}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{preprocessor}{        \#endif}}
\DoxyCodeLine{42     \textcolor{keyword}{protected}:}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     \textcolor{keyword}{private}:}
\DoxyCodeLine{45 }
\DoxyCodeLine{46         \mbox{\hyperlink{class_i_pc_communications}{IPcCommunications}} * \_PcComsInterface;}
\DoxyCodeLine{47         \mbox{\hyperlink{class_i_eeg_data_producer}{IEegDataProducer}} * \_EEGDataProducer;}
\DoxyCodeLine{48         \mbox{\hyperlink{class_event_handler}{EventHandler}} * \_EventHandler;}
\DoxyCodeLine{49         \mbox{\hyperlink{class_i_protocol_transmission}{IProtocolTransmission}} * \_ProtocolTransmissionInstance;}
\DoxyCodeLine{50 }
\DoxyCodeLine{51         \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{\_RX\_STATE}}}
\DoxyCodeLine{52         \{}
\DoxyCodeLine{53             \textcolor{comment}{// reception varaibles}}
\DoxyCodeLine{54             \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{\_RX\_STATE}} (*state\_fptr)(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{\_RX\_STATE}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{55             uint8\_t rxIndex;}
\DoxyCodeLine{56             uint8\_t rxMultiByteCounter;}
\DoxyCodeLine{57 }
\DoxyCodeLine{58             \textcolor{comment}{// message values array}}
\DoxyCodeLine{59             uint8\_t message[ProtocolGeneral::\_MAX\_MESSAGE\_LENGTH];}
\DoxyCodeLine{60 }
\DoxyCodeLine{61             uint8\_t nextExpectedID;}
\DoxyCodeLine{62 }
\DoxyCodeLine{63         \}\mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65         \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \_RxState;}
\DoxyCodeLine{66 }
\DoxyCodeLine{67         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a01e102370fb2ed82c68a147b7a3dfd1f}{ResetRxStruct}}(\mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state);}
\DoxyCodeLine{68 }
\DoxyCodeLine{69         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a8122610488cb525b5b33408a4c0287d9}{RxState\_WaitForSyncSequence}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{70         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a8e1b9b683a56f3e87e24872bf7c5a1ce}{RxState\_GetProtocolVersion}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{71         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_acf8eb9108bcf1528b17eec6bf9068a7e}{RxState\_GetPayloadLength}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{72         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_ab599b58913c7a4c9599138b920f3d874}{RxState\_GetIdNumber}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{73         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a9b3b5775cac97714924e229dbee6c938}{RxState\_GetAcknowledgeId}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{74         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_a06b0739338a0fb691ba2084857086436}{RxState\_GetPayloadChecksum}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{75         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_acda7a7a8ecb028f47a86606e20e68f07}{RxState\_GetHeaderChecksum}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{76         \textcolor{keyword}{static} \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} \mbox{\hyperlink{class_protocol_receiver_abc474ba439dcc4a299e95d8b17a2a06a}{RxState\_GetPayloadAndProcessMessageContents}}(uint8\_t c, \mbox{\hyperlink{struct_protocol_receiver_1_1___r_x___s_t_a_t_e}{sRxStruct}} state, \mbox{\hyperlink{class_protocol_receiver}{ProtocolReceiver}} * protocolReceiver);}
\DoxyCodeLine{77 \};}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
